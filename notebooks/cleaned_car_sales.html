<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.31">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Data cleaning and Preprocessin</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="cleaned_car_sales_files/libs/clipboard/clipboard.min.js"></script>
<script src="cleaned_car_sales_files/libs/quarto-html/quarto.js" type="module"></script>
<script src="cleaned_car_sales_files/libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="cleaned_car_sales_files/libs/quarto-html/popper.min.js"></script>
<script src="cleaned_car_sales_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="cleaned_car_sales_files/libs/quarto-html/anchor.min.js"></script>
<link href="cleaned_car_sales_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="cleaned_car_sales_files/libs/quarto-html/quarto-syntax-highlighting-e1a5c8363afafaef2c763b6775fbf3ca.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="cleaned_car_sales_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="cleaned_car_sales_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="cleaned_car_sales_files/libs/bootstrap/bootstrap-bb462d781dde1847d9e3ccf7736099dd.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


</head>

<body class="fullcontent quarto-light">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Data cleaning and Preprocessin</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="car-sales-dataset---cleaning-and-preprocessing" class="level5">
<h5 class="anchored" data-anchor-id="car-sales-dataset---cleaning-and-preprocessing">Car Sales Dataset - Cleaning and Preprocessing</h5>
<p><strong>Introduction</strong> This notebook documents the data preparation, cleaning, and preprocessing steps for a Car Sales Dataset containing 558,837 vehicle transactions. The dataset includes features like brand, model, sale price, condition, odometer readings, and geographic information. Proper data cleaning is essential for accurate analysis of car market trends, depreciation rates, and regional sales patterns.</p>
</section>
<section id="data-cleaning-process" class="level4">
<h4 class="anchored" data-anchor-id="data-cleaning-process">Data Cleaning Process</h4>
<ol type="1">
<li>Importing Libraries and Setting Up File Paths</li>
</ol>
<div id="c23db982-e450-4aa3-a819-a3cdeb412a9e" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># import libraries</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd </span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np </span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Purpose: Imports essential libraries for data manipulation (pandas, numpy) and file system operations (os)</p>
<div id="887e97a5-a978-44b6-a969-b3f7fe750f89" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>current_dir<span class="op">=</span> os.getcwd()</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="co">#go one directory up to the root directory</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>project_root_dir <span class="op">=</span>os.path.dirname(current_dir)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co">#Define paths to the data file</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>data_dir <span class="op">=</span> os.path.join(project_root_dir,<span class="st">"data"</span>)</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>raw_dir <span class="op">=</span> os.path.join(data_dir,<span class="st">"raw"</span>)</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>processed_dir <span class="op">=</span> os.path.join(data_dir,<span class="st">'processed'</span>)</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="co">#Define paths to the result fold</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>results_dir <span class="op">=</span> os.path.join(project_root_dir,<span class="st">"result"</span>) </span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="co">#define path to docs folderabs</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>docs_dir <span class="op">=</span> os.path.join(project_root_dir,<span class="st">"docs"</span>)</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a><span class="co">#create directory If they do not exist </span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>os.makedirs(raw_dir,exist_ok<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>os.makedirs(processed_dir,exist_ok<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>os.makedirs(results_dir,exist_ok<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>os.makedirs(docs_dir,exist_ok<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="reading-data" class="level3">
<h3 class="anchored" data-anchor-id="reading-data">2. Reading data</h3>
<div id="ece354a5-11dc-4684-960a-2e0935ade5f4" class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>car_prices_data_filename <span class="op">=</span> os.path.join(raw_dir,<span class="st">"car_prices.csv"</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>car_price_df<span class="op">=</span> pd.read_csv(car_prices_data_filename)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>car_price_df.head(<span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="7">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">year</th>
<th data-quarto-table-cell-role="th">make</th>
<th data-quarto-table-cell-role="th">model</th>
<th data-quarto-table-cell-role="th">trim</th>
<th data-quarto-table-cell-role="th">body</th>
<th data-quarto-table-cell-role="th">transmission</th>
<th data-quarto-table-cell-role="th">vin</th>
<th data-quarto-table-cell-role="th">state</th>
<th data-quarto-table-cell-role="th">condition</th>
<th data-quarto-table-cell-role="th">odometer</th>
<th data-quarto-table-cell-role="th">color</th>
<th data-quarto-table-cell-role="th">interior</th>
<th data-quarto-table-cell-role="th">seller</th>
<th data-quarto-table-cell-role="th">mmr</th>
<th data-quarto-table-cell-role="th">sellingprice</th>
<th data-quarto-table-cell-role="th">saledate</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>2015</td>
<td>Kia</td>
<td>Sorento</td>
<td>LX</td>
<td>SUV</td>
<td>automatic</td>
<td>5xyktca69fg566472</td>
<td>ca</td>
<td>5.0</td>
<td>16639.0</td>
<td>white</td>
<td>black</td>
<td>kia motors america inc</td>
<td>20500.0</td>
<td>21500.0</td>
<td>Tue Dec 16 2014 12:30:00 GMT-0800 (PST)</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>2015</td>
<td>Kia</td>
<td>Sorento</td>
<td>LX</td>
<td>SUV</td>
<td>automatic</td>
<td>5xyktca69fg561319</td>
<td>ca</td>
<td>5.0</td>
<td>9393.0</td>
<td>white</td>
<td>beige</td>
<td>kia motors america inc</td>
<td>20800.0</td>
<td>21500.0</td>
<td>Tue Dec 16 2014 12:30:00 GMT-0800 (PST)</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>2014</td>
<td>BMW</td>
<td>3 Series</td>
<td>328i SULEV</td>
<td>Sedan</td>
<td>automatic</td>
<td>wba3c1c51ek116351</td>
<td>ca</td>
<td>45.0</td>
<td>1331.0</td>
<td>gray</td>
<td>black</td>
<td>financial services remarketing (lease)</td>
<td>31900.0</td>
<td>30000.0</td>
<td>Thu Jan 15 2015 04:30:00 GMT-0800 (PST)</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>2015</td>
<td>Volvo</td>
<td>S60</td>
<td>T5</td>
<td>Sedan</td>
<td>automatic</td>
<td>yv1612tb4f1310987</td>
<td>ca</td>
<td>41.0</td>
<td>14282.0</td>
<td>white</td>
<td>black</td>
<td>volvo na rep/world omni</td>
<td>27500.0</td>
<td>27750.0</td>
<td>Thu Jan 29 2015 04:30:00 GMT-0800 (PST)</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>2014</td>
<td>BMW</td>
<td>6 Series Gran Coupe</td>
<td>650i</td>
<td>Sedan</td>
<td>automatic</td>
<td>wba6b2c57ed129731</td>
<td>ca</td>
<td>43.0</td>
<td>2641.0</td>
<td>gray</td>
<td>black</td>
<td>financial services remarketing (lease)</td>
<td>66000.0</td>
<td>67000.0</td>
<td>Thu Dec 18 2014 12:30:00 GMT-0800 (PST)</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>2015</td>
<td>Nissan</td>
<td>Altima</td>
<td>2.5 S</td>
<td>Sedan</td>
<td>automatic</td>
<td>1n4al3ap1fn326013</td>
<td>ca</td>
<td>1.0</td>
<td>5554.0</td>
<td>gray</td>
<td>black</td>
<td>enterprise vehicle exchange / tra / rental / t...</td>
<td>15350.0</td>
<td>10900.0</td>
<td>Tue Dec 30 2014 12:00:00 GMT-0800 (PST)</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>2014</td>
<td>BMW</td>
<td>M5</td>
<td>Base</td>
<td>Sedan</td>
<td>automatic</td>
<td>wbsfv9c51ed593089</td>
<td>ca</td>
<td>34.0</td>
<td>14943.0</td>
<td>black</td>
<td>black</td>
<td>the hertz corporation</td>
<td>69000.0</td>
<td>65000.0</td>
<td>Wed Dec 17 2014 12:30:00 GMT-0800 (PST)</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>2014</td>
<td>Chevrolet</td>
<td>Cruze</td>
<td>1LT</td>
<td>Sedan</td>
<td>automatic</td>
<td>1g1pc5sb2e7128460</td>
<td>ca</td>
<td>2.0</td>
<td>28617.0</td>
<td>black</td>
<td>black</td>
<td>enterprise vehicle exchange / tra / rental / t...</td>
<td>11900.0</td>
<td>9800.0</td>
<td>Tue Dec 16 2014 13:00:00 GMT-0800 (PST)</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8</td>
<td>2014</td>
<td>Audi</td>
<td>A4</td>
<td>2.0T Premium Plus quattro</td>
<td>Sedan</td>
<td>automatic</td>
<td>wauffafl3en030343</td>
<td>ca</td>
<td>42.0</td>
<td>9557.0</td>
<td>white</td>
<td>black</td>
<td>audi mission viejo</td>
<td>32100.0</td>
<td>32250.0</td>
<td>Thu Dec 18 2014 12:00:00 GMT-0800 (PST)</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">9</td>
<td>2014</td>
<td>Chevrolet</td>
<td>Camaro</td>
<td>LT</td>
<td>Convertible</td>
<td>automatic</td>
<td>2g1fb3d37e9218789</td>
<td>ca</td>
<td>3.0</td>
<td>4809.0</td>
<td>red</td>
<td>black</td>
<td>d/m auto sales inc</td>
<td>26300.0</td>
<td>17500.0</td>
<td>Tue Jan 20 2015 04:00:00 GMT-0800 (PST)</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="0012fa10-493e-430c-b5f0-f65c81c112f3" class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>car_price_df.shape</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="8">
<pre><code>(558837, 16)</code></pre>
</div>
</div>
<ul>
<li>Action: Loads the raw CSV file into a pandas DataFrame.</li>
<li>Initial Inspection: The dataset contains 558,837 rows and 16 columns.</li>
</ul>
<div id="bde36ed2-6722-4c5e-b4eb-c63c26709cb9" class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>car_price_df.info()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 558837 entries, 0 to 558836
Data columns (total 16 columns):
 #   Column        Non-Null Count   Dtype  
---  ------        --------------   -----  
 0   year          558837 non-null  int64  
 1   make          548536 non-null  object 
 2   model         548438 non-null  object 
 3   trim          548186 non-null  object 
 4   body          545642 non-null  object 
 5   transmission  493485 non-null  object 
 6   vin           558833 non-null  object 
 7   state         558837 non-null  object 
 8   condition     547017 non-null  float64
 9   odometer      558743 non-null  float64
 10  color         558088 non-null  object 
 11  interior      558088 non-null  object 
 12  seller        558837 non-null  object 
 13  mmr           558799 non-null  float64
 14  sellingprice  558825 non-null  float64
 15  saledate      558825 non-null  object 
dtypes: float64(4), int64(1), object(11)
memory usage: 68.2+ MB</code></pre>
</div>
</div>
</section>
<section id="data-cleaning" class="level1">
<h1>Data cleaning</h1>
<section id="assign-proper-colummn-names" class="level2">
<h2 class="anchored" data-anchor-id="assign-proper-colummn-names">3. Assign proper colummn names</h2>
<p>One of the most stricking things from the above inspection is that the dataset lacks explicit column headers. We manually assign descriptive meaningful column names based on the description of the DATASET. This is critical for readability and interpretability in the subsequent steps.</p>
<div id="88b8fa79-311b-4065-bfc5-a8a474f37dca" class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>car_price_df.columns</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="12">
<pre><code>Index(['year', 'make', 'model', 'trim', 'body', 'transmission', 'vin', 'state',
       'condition', 'odometer', 'color', 'interior', 'seller', 'mmr',
       'sellingprice', 'saledate'],
      dtype='object')</code></pre>
</div>
</div>
<div id="50bd8f84-831c-40d0-a953-2d0f56527486" class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>car_price_df.columns<span class="op">=</span>[<span class="st">"year"</span>,<span class="st">"brand"</span>,<span class="st">"model"</span>,<span class="st">"trim"</span>,<span class="st">"body"</span>,<span class="st">"transmission"</span>,<span class="st">"vehicle_id"</span>,<span class="st">"Region"</span>,<span class="st">"condition"</span>,<span class="st">"odometer"</span>,<span class="st">"exterior_color"</span>,<span class="st">"interior_color"</span>,<span class="st">"seller"</span>,<span class="st">"mmr"</span>,<span class="st">"selling_price"</span>,<span class="st">"sale_date"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="75bdf90c-37a0-4885-abf7-4cc84bed6ee1" class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>car_price_df[<span class="st">'condition'</span>].unique()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="14">
<pre><code>array([ 5., 45., 41., 43.,  1., 34.,  2., 42.,  3., 48., nan, 49., 17.,
       19., 29., 38., 44., 47., 32.,  4., 25., 37., 39., 31., 28., 46.,
       36., 35., 26., 21., 22., 27., 24., 33., 23., 15., 16., 18., 12.,
       14., 11., 13.])</code></pre>
</div>
</div>
<ul>
<li>Purpose: Standardizes column names for consistency (e.g., changing “make” to “brand” and “vin” to “vehicle_id”).</li>
<li>Impact: Improves code readability and maintainability</li>
</ul>
<div id="7a3ef7d9-6cac-46cf-b839-ceca20ae832e" class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>car_price_df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="16">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">year</th>
<th data-quarto-table-cell-role="th">brand</th>
<th data-quarto-table-cell-role="th">model</th>
<th data-quarto-table-cell-role="th">trim</th>
<th data-quarto-table-cell-role="th">body</th>
<th data-quarto-table-cell-role="th">transmission</th>
<th data-quarto-table-cell-role="th">vehicle_id</th>
<th data-quarto-table-cell-role="th">Region</th>
<th data-quarto-table-cell-role="th">condition</th>
<th data-quarto-table-cell-role="th">odometer</th>
<th data-quarto-table-cell-role="th">exterior_color</th>
<th data-quarto-table-cell-role="th">interior_color</th>
<th data-quarto-table-cell-role="th">seller</th>
<th data-quarto-table-cell-role="th">mmr</th>
<th data-quarto-table-cell-role="th">selling_price</th>
<th data-quarto-table-cell-role="th">sale_date</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>2015</td>
<td>Kia</td>
<td>Sorento</td>
<td>LX</td>
<td>SUV</td>
<td>automatic</td>
<td>5xyktca69fg566472</td>
<td>ca</td>
<td>5.0</td>
<td>16639.0</td>
<td>white</td>
<td>black</td>
<td>kia motors america inc</td>
<td>20500.0</td>
<td>21500.0</td>
<td>Tue Dec 16 2014 12:30:00 GMT-0800 (PST)</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>2015</td>
<td>Kia</td>
<td>Sorento</td>
<td>LX</td>
<td>SUV</td>
<td>automatic</td>
<td>5xyktca69fg561319</td>
<td>ca</td>
<td>5.0</td>
<td>9393.0</td>
<td>white</td>
<td>beige</td>
<td>kia motors america inc</td>
<td>20800.0</td>
<td>21500.0</td>
<td>Tue Dec 16 2014 12:30:00 GMT-0800 (PST)</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>2014</td>
<td>BMW</td>
<td>3 Series</td>
<td>328i SULEV</td>
<td>Sedan</td>
<td>automatic</td>
<td>wba3c1c51ek116351</td>
<td>ca</td>
<td>45.0</td>
<td>1331.0</td>
<td>gray</td>
<td>black</td>
<td>financial services remarketing (lease)</td>
<td>31900.0</td>
<td>30000.0</td>
<td>Thu Jan 15 2015 04:30:00 GMT-0800 (PST)</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>2015</td>
<td>Volvo</td>
<td>S60</td>
<td>T5</td>
<td>Sedan</td>
<td>automatic</td>
<td>yv1612tb4f1310987</td>
<td>ca</td>
<td>41.0</td>
<td>14282.0</td>
<td>white</td>
<td>black</td>
<td>volvo na rep/world omni</td>
<td>27500.0</td>
<td>27750.0</td>
<td>Thu Jan 29 2015 04:30:00 GMT-0800 (PST)</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>2014</td>
<td>BMW</td>
<td>6 Series Gran Coupe</td>
<td>650i</td>
<td>Sedan</td>
<td>automatic</td>
<td>wba6b2c57ed129731</td>
<td>ca</td>
<td>43.0</td>
<td>2641.0</td>
<td>gray</td>
<td>black</td>
<td>financial services remarketing (lease)</td>
<td>66000.0</td>
<td>67000.0</td>
<td>Thu Dec 18 2014 12:30:00 GMT-0800 (PST)</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">558832</td>
<td>2015</td>
<td>Kia</td>
<td>K900</td>
<td>Luxury</td>
<td>Sedan</td>
<td>NaN</td>
<td>knalw4d4xf6019304</td>
<td>in</td>
<td>45.0</td>
<td>18255.0</td>
<td>silver</td>
<td>black</td>
<td>avis corporation</td>
<td>35300.0</td>
<td>33000.0</td>
<td>Thu Jul 09 2015 07:00:00 GMT-0700 (PDT)</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">558833</td>
<td>2012</td>
<td>Ram</td>
<td>2500</td>
<td>Power Wagon</td>
<td>Crew Cab</td>
<td>automatic</td>
<td>3c6td5et6cg112407</td>
<td>wa</td>
<td>5.0</td>
<td>54393.0</td>
<td>white</td>
<td>black</td>
<td>i -5 uhlmann rv</td>
<td>30200.0</td>
<td>30800.0</td>
<td>Wed Jul 08 2015 09:30:00 GMT-0700 (PDT)</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">558834</td>
<td>2012</td>
<td>BMW</td>
<td>X5</td>
<td>xDrive35d</td>
<td>SUV</td>
<td>automatic</td>
<td>5uxzw0c58cl668465</td>
<td>ca</td>
<td>48.0</td>
<td>50561.0</td>
<td>black</td>
<td>black</td>
<td>financial services remarketing (lease)</td>
<td>29800.0</td>
<td>34000.0</td>
<td>Wed Jul 08 2015 09:30:00 GMT-0700 (PDT)</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">558835</td>
<td>2015</td>
<td>Nissan</td>
<td>Altima</td>
<td>2.5 S</td>
<td>sedan</td>
<td>automatic</td>
<td>1n4al3ap0fc216050</td>
<td>ga</td>
<td>38.0</td>
<td>16658.0</td>
<td>white</td>
<td>black</td>
<td>enterprise vehicle exchange / tra / rental / t...</td>
<td>15100.0</td>
<td>11100.0</td>
<td>Thu Jul 09 2015 06:45:00 GMT-0700 (PDT)</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">558836</td>
<td>2014</td>
<td>Ford</td>
<td>F-150</td>
<td>XLT</td>
<td>SuperCrew</td>
<td>automatic</td>
<td>1ftfw1et2eke87277</td>
<td>ca</td>
<td>34.0</td>
<td>15008.0</td>
<td>gray</td>
<td>gray</td>
<td>ford motor credit company llc pd</td>
<td>29600.0</td>
<td>26700.0</td>
<td>Thu May 28 2015 05:30:00 GMT-0700 (PDT)</td>
</tr>
</tbody>
</table>

<p>558837 rows × 16 columns</p>
</div>
</div>
</div>
<section id="undestanding-dataset" class="level3">
<h3 class="anchored" data-anchor-id="undestanding-dataset">Undestanding dataset</h3>
<div id="cb208342-8b67-4b37-baf1-91f69bd82715" class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>car_price_df[<span class="st">"brand"</span>].unique()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="18">
<pre><code>array(['Kia', 'BMW', 'Volvo', 'Nissan', 'Chevrolet', 'Audi', 'Ford',
       'Hyundai', 'Buick', 'Cadillac', 'Acura', 'Lexus', 'Infiniti',
       'Jeep', 'Mercedes-Benz', 'Mitsubishi', 'Mazda', 'MINI',
       'Land Rover', 'Lincoln', 'lincoln', 'Jaguar', 'Volkswagen',
       'Toyota', 'Subaru', 'Scion', 'Porsche', nan, 'bmw', 'Dodge',
       'FIAT', 'Chrysler', 'ford', 'Ferrari', 'Honda', 'GMC',
       'mitsubishi', 'Ram', 'smart', 'chevrolet', 'Bentley', 'chrysler',
       'pontiac', 'Pontiac', 'Saturn', 'Maserati', 'Mercury', 'HUMMER',
       'landrover', 'cadillac', 'land rover', 'mercedes', 'mazda',
       'toyota', 'lexus', 'gmc truck', 'honda', 'nissan', 'porsche',
       'Saab', 'Suzuki', 'dodge', 'subaru', 'Oldsmobile', 'oldsmobile',
       'hyundai', 'jeep', 'Isuzu', 'dodge tk', 'Geo', 'acura',
       'volkswagen', 'suzuki', 'kia', 'audi', 'Rolls-Royce', 'gmc',
       'maserati', 'mazda tk', 'mercury', 'buick', 'hyundai tk',
       'mercedes-b', 'vw', 'Daewoo', 'chev truck', 'ford tk', 'plymouth',
       'Plymouth', 'ford truck', 'Tesla', 'airstream', 'dot',
       'Aston Martin', 'Fisker', 'Lamborghini', 'Lotus'], dtype=object)</code></pre>
</div>
</div>
</section>
<section id="handling-missing-values" class="level3">
<h3 class="anchored" data-anchor-id="handling-missing-values">4. Handling Missing Values</h3>
<p>Strategy:</p>
<ul>
<li>Categorical columns: Filled with ‘Unknown’ or ‘other’</li>
<li>Numeric columns: Initially kept as NaN for later processing</li>
<li>Result: Eliminates null values while preserving data integrity</li>
</ul>
<div id="c5ff246c-c2a8-4a01-80b4-83ec27ae2267" class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>car_price_df.isnull().<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="20">
<pre><code>year                  0
brand             10301
model             10399
trim              10651
body              13195
transmission      65352
vehicle_id            4
Region                0
condition         11820
odometer             94
exterior_color      749
interior_color      749
seller                0
mmr                  38
selling_price        12
sale_date            12
dtype: int64</code></pre>
</div>
</div>
<div id="2987b916-f65e-4a37-95f1-bf4f752273e1" class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>car_price_df[<span class="st">'trim'</span>] <span class="op">=</span> car_price_df[<span class="st">'trim'</span>].fillna(<span class="st">'Unknown'</span>)</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>car_price_df[<span class="st">'brand'</span>] <span class="op">=</span> car_price_df[<span class="st">'brand'</span>].fillna(<span class="st">'other'</span>)</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>car_price_df[<span class="st">'model'</span>] <span class="op">=</span> car_price_df[<span class="st">'model'</span>].fillna(<span class="st">'other'</span>)</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>car_price_df[<span class="st">'body'</span>] <span class="op">=</span> car_price_df[<span class="st">'body'</span>].fillna(<span class="st">'other'</span>)</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>car_price_df[<span class="st">'transmission'</span>] <span class="op">=</span> car_price_df[<span class="st">'transmission'</span>].fillna(<span class="st">'Unknown'</span>)</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>car_price_df[<span class="st">'vehicle_id'</span>] <span class="op">=</span> car_price_df[<span class="st">'vehicle_id'</span>].fillna(<span class="st">'Unknown'</span>)</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>car_price_df[<span class="st">'condition'</span>] <span class="op">=</span> car_price_df[<span class="st">'condition'</span>].fillna(<span class="st">'Nan'</span>)</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>car_price_df[<span class="st">'odometer'</span>] <span class="op">=</span> car_price_df[<span class="st">'odometer'</span>].fillna(<span class="st">'Nan'</span>)</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>car_price_df[<span class="st">'exterior_color'</span>] <span class="op">=</span> car_price_df[<span class="st">'exterior_color'</span>].fillna(<span class="st">'Unknown'</span>)</span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>car_price_df[<span class="st">'interior_color'</span>] <span class="op">=</span> car_price_df[<span class="st">'interior_color'</span>].fillna(<span class="st">'Unknown'</span>)</span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>car_price_df[<span class="st">'mmr'</span>] <span class="op">=</span> car_price_df[<span class="st">'mmr'</span>].fillna(<span class="st">'Unknown'</span>)</span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>car_price_df[<span class="st">'selling_price'</span>] <span class="op">=</span> car_price_df[<span class="st">'selling_price'</span>].fillna(<span class="st">'Unknown'</span>)</span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>car_price_df[<span class="st">'sale_date'</span>] <span class="op">=</span> car_price_df[<span class="st">'sale_date'</span>].fillna(<span class="st">'Unknown'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="missing-value-treatment" class="level3">
<h3 class="anchored" data-anchor-id="missing-value-treatment">Missing Value Treatment:</h3>
<ul>
<li>Categorical fields (brand, model, transmission, etc.) are imputed with “Unknown” or “other”.</li>
<li>Numerical fields like odometer, mmr, and selling_price are also filled — although these are marked as ‘Unknown’, they should ideally be converted to numeric or flagged for downstream filtering</li>
</ul>
<div id="26a26b60-8b7b-44df-a70e-55b6f2fc3dbf" class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>car_price_df.isnull().<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="23">
<pre><code>year              0
brand             0
model             0
trim              0
body              0
transmission      0
vehicle_id        0
Region            0
condition         0
odometer          0
exterior_color    0
interior_color    0
seller            0
mmr               0
selling_price     0
sale_date         0
dtype: int64</code></pre>
</div>
</div>
<div id="750484e8-7a02-49d2-8c60-cc2c7a9c5024" class="cell" data-execution_count="24">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>car_price_df.duplicated().<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="24">
<pre><code>0</code></pre>
</div>
</div>
</section>
<section id="region-standardization" class="level3">
<h3 class="anchored" data-anchor-id="region-standardization">5. Region Standardization</h3>
<p>Purpose: Converts abbreviated state/province codes to full names for better readability.</p>
<div id="8a7aeeb1-016f-411e-8633-729f28c60e83" class="cell" data-execution_count="26">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>car_price_df.loc[:,<span class="st">'Region'</span>]<span class="op">=</span> car_price_df[<span class="st">'Region'</span>].replace({</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">'ab'</span>: <span class="st">'Alberta'</span>,</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'al'</span>: <span class="st">'Alabama'</span>,</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">'az'</span>: <span class="st">'Arizona'</span>,</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">'ca'</span>: <span class="st">'California'</span>,</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">'co'</span>: <span class="st">'Colorado'</span>,</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">'fl'</span>: <span class="st">'Florida'</span>,</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">'ga'</span>: <span class="st">'Georgia'</span>,</span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">'hi'</span>: <span class="st">'Hawaii'</span>,</span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">'il'</span>: <span class="st">'Illinois'</span>,</span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">'in'</span>: <span class="st">'Indiana'</span>,</span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">'la'</span>: <span class="st">'Louisiana'</span>,</span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">'ma'</span>: <span class="st">'Massachusetts'</span>,</span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">'md'</span>: <span class="st">'Maryland'</span>,</span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">'mi'</span>: <span class="st">'Michigan'</span>,</span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a>    <span class="st">'mn'</span>: <span class="st">'Minnesota'</span>,</span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a>    <span class="st">'mo'</span>: <span class="st">'Missouri'</span>,</span>
<span id="cb23-18"><a href="#cb23-18" aria-hidden="true" tabindex="-1"></a>    <span class="st">'ms'</span>: <span class="st">'Mississippi'</span>,</span>
<span id="cb23-19"><a href="#cb23-19" aria-hidden="true" tabindex="-1"></a>    <span class="st">'nc'</span>: <span class="st">'North Carolina'</span>,</span>
<span id="cb23-20"><a href="#cb23-20" aria-hidden="true" tabindex="-1"></a>    <span class="st">'ne'</span>: <span class="st">'Nebraska'</span>,</span>
<span id="cb23-21"><a href="#cb23-21" aria-hidden="true" tabindex="-1"></a>    <span class="st">'nj'</span>: <span class="st">'New Jersey'</span>,</span>
<span id="cb23-22"><a href="#cb23-22" aria-hidden="true" tabindex="-1"></a>    <span class="st">'nm'</span>: <span class="st">'New Mexico'</span>,</span>
<span id="cb23-23"><a href="#cb23-23" aria-hidden="true" tabindex="-1"></a>    <span class="st">'ns'</span>: <span class="st">'Nova Scotia'</span>,</span>
<span id="cb23-24"><a href="#cb23-24" aria-hidden="true" tabindex="-1"></a>    <span class="st">'nv'</span>: <span class="st">'Nevada'</span>,</span>
<span id="cb23-25"><a href="#cb23-25" aria-hidden="true" tabindex="-1"></a>    <span class="st">'ny'</span>: <span class="st">'New York'</span>,</span>
<span id="cb23-26"><a href="#cb23-26" aria-hidden="true" tabindex="-1"></a>    <span class="st">'oh'</span>: <span class="st">'Ohio'</span>,</span>
<span id="cb23-27"><a href="#cb23-27" aria-hidden="true" tabindex="-1"></a>    <span class="st">'ok'</span>: <span class="st">'Oklahoma'</span>,</span>
<span id="cb23-28"><a href="#cb23-28" aria-hidden="true" tabindex="-1"></a>    <span class="st">'on'</span>: <span class="st">'Ontario'</span>,</span>
<span id="cb23-29"><a href="#cb23-29" aria-hidden="true" tabindex="-1"></a>    <span class="st">'or'</span>: <span class="st">'Oregon'</span>,</span>
<span id="cb23-30"><a href="#cb23-30" aria-hidden="true" tabindex="-1"></a>    <span class="st">'pa'</span>: <span class="st">'Pennsylvania'</span>,</span>
<span id="cb23-31"><a href="#cb23-31" aria-hidden="true" tabindex="-1"></a>    <span class="st">'pr'</span>: <span class="st">'Puerto Rico'</span>,</span>
<span id="cb23-32"><a href="#cb23-32" aria-hidden="true" tabindex="-1"></a>    <span class="st">'qc'</span>: <span class="st">'Quebec'</span>,</span>
<span id="cb23-33"><a href="#cb23-33" aria-hidden="true" tabindex="-1"></a>    <span class="st">'sc'</span>: <span class="st">'South Carolina'</span>,</span>
<span id="cb23-34"><a href="#cb23-34" aria-hidden="true" tabindex="-1"></a>    <span class="st">'tn'</span>: <span class="st">'Tennessee'</span>,</span>
<span id="cb23-35"><a href="#cb23-35" aria-hidden="true" tabindex="-1"></a>    <span class="st">'tx'</span>: <span class="st">'Texas'</span>,</span>
<span id="cb23-36"><a href="#cb23-36" aria-hidden="true" tabindex="-1"></a>    <span class="st">'ut'</span>: <span class="st">'Utah'</span>,</span>
<span id="cb23-37"><a href="#cb23-37" aria-hidden="true" tabindex="-1"></a>    <span class="st">'va'</span>: <span class="st">'Virginia'</span>,</span>
<span id="cb23-38"><a href="#cb23-38" aria-hidden="true" tabindex="-1"></a>    <span class="st">'wa'</span>: <span class="st">'Washington'</span>,</span>
<span id="cb23-39"><a href="#cb23-39" aria-hidden="true" tabindex="-1"></a>    <span class="st">'wi'</span>: <span class="st">'Wisconsin'</span></span>
<span id="cb23-40"><a href="#cb23-40" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb23-41"><a href="#cb23-41" aria-hidden="true" tabindex="-1"></a>car_price_df[<span class="st">'Region'</span>] <span class="op">=</span> car_price_df[<span class="st">'Region'</span>].replace(<span class="vs">r'</span><span class="dv">^</span><span class="pp">[a-zA-Z0-9]</span><span class="op">{17}</span><span class="dv">$</span><span class="vs">'</span>, <span class="st">'Delaware'</span>, regex<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="dc437045-124a-4fa7-8993-f81f3c62b0d4" class="cell" data-execution_count="27">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>np.unique(car_price_df.Region.to_list())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="27">
<pre><code>array(['Alabama', 'Alberta', 'Arizona', 'California', 'Colorado',
       'Delaware', 'Florida', 'Georgia', 'Hawaii', 'Illinois', 'Indiana',
       'Louisiana', 'Maryland', 'Massachusetts', 'Michigan', 'Minnesota',
       'Mississippi', 'Missouri', 'Nebraska', 'Nevada', 'New Jersey',
       'New Mexico', 'New York', 'North Carolina', 'Nova Scotia', 'Ohio',
       'Oklahoma', 'Ontario', 'Oregon', 'Pennsylvania', 'Puerto Rico',
       'Quebec', 'South Carolina', 'Tennessee', 'Texas', 'Utah',
       'Virginia', 'Washington', 'Wisconsin'], dtype='&lt;U14')</code></pre>
</div>
</div>
<div id="881332fa-a5f1-4746-adad-a27287d33534" class="cell" data-execution_count="28">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>car_price_df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="28">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">year</th>
<th data-quarto-table-cell-role="th">brand</th>
<th data-quarto-table-cell-role="th">model</th>
<th data-quarto-table-cell-role="th">trim</th>
<th data-quarto-table-cell-role="th">body</th>
<th data-quarto-table-cell-role="th">transmission</th>
<th data-quarto-table-cell-role="th">vehicle_id</th>
<th data-quarto-table-cell-role="th">Region</th>
<th data-quarto-table-cell-role="th">condition</th>
<th data-quarto-table-cell-role="th">odometer</th>
<th data-quarto-table-cell-role="th">exterior_color</th>
<th data-quarto-table-cell-role="th">interior_color</th>
<th data-quarto-table-cell-role="th">seller</th>
<th data-quarto-table-cell-role="th">mmr</th>
<th data-quarto-table-cell-role="th">selling_price</th>
<th data-quarto-table-cell-role="th">sale_date</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>2015</td>
<td>Kia</td>
<td>Sorento</td>
<td>LX</td>
<td>SUV</td>
<td>automatic</td>
<td>5xyktca69fg566472</td>
<td>California</td>
<td>5.0</td>
<td>16639.0</td>
<td>white</td>
<td>black</td>
<td>kia motors america inc</td>
<td>20500.0</td>
<td>21500.0</td>
<td>Tue Dec 16 2014 12:30:00 GMT-0800 (PST)</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>2015</td>
<td>Kia</td>
<td>Sorento</td>
<td>LX</td>
<td>SUV</td>
<td>automatic</td>
<td>5xyktca69fg561319</td>
<td>California</td>
<td>5.0</td>
<td>9393.0</td>
<td>white</td>
<td>beige</td>
<td>kia motors america inc</td>
<td>20800.0</td>
<td>21500.0</td>
<td>Tue Dec 16 2014 12:30:00 GMT-0800 (PST)</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>2014</td>
<td>BMW</td>
<td>3 Series</td>
<td>328i SULEV</td>
<td>Sedan</td>
<td>automatic</td>
<td>wba3c1c51ek116351</td>
<td>California</td>
<td>45.0</td>
<td>1331.0</td>
<td>gray</td>
<td>black</td>
<td>financial services remarketing (lease)</td>
<td>31900.0</td>
<td>30000.0</td>
<td>Thu Jan 15 2015 04:30:00 GMT-0800 (PST)</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>2015</td>
<td>Volvo</td>
<td>S60</td>
<td>T5</td>
<td>Sedan</td>
<td>automatic</td>
<td>yv1612tb4f1310987</td>
<td>California</td>
<td>41.0</td>
<td>14282.0</td>
<td>white</td>
<td>black</td>
<td>volvo na rep/world omni</td>
<td>27500.0</td>
<td>27750.0</td>
<td>Thu Jan 29 2015 04:30:00 GMT-0800 (PST)</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>2014</td>
<td>BMW</td>
<td>6 Series Gran Coupe</td>
<td>650i</td>
<td>Sedan</td>
<td>automatic</td>
<td>wba6b2c57ed129731</td>
<td>California</td>
<td>43.0</td>
<td>2641.0</td>
<td>gray</td>
<td>black</td>
<td>financial services remarketing (lease)</td>
<td>66000.0</td>
<td>67000.0</td>
<td>Thu Dec 18 2014 12:30:00 GMT-0800 (PST)</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">558832</td>
<td>2015</td>
<td>Kia</td>
<td>K900</td>
<td>Luxury</td>
<td>Sedan</td>
<td>Unknown</td>
<td>knalw4d4xf6019304</td>
<td>Indiana</td>
<td>45.0</td>
<td>18255.0</td>
<td>silver</td>
<td>black</td>
<td>avis corporation</td>
<td>35300.0</td>
<td>33000.0</td>
<td>Thu Jul 09 2015 07:00:00 GMT-0700 (PDT)</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">558833</td>
<td>2012</td>
<td>Ram</td>
<td>2500</td>
<td>Power Wagon</td>
<td>Crew Cab</td>
<td>automatic</td>
<td>3c6td5et6cg112407</td>
<td>Washington</td>
<td>5.0</td>
<td>54393.0</td>
<td>white</td>
<td>black</td>
<td>i -5 uhlmann rv</td>
<td>30200.0</td>
<td>30800.0</td>
<td>Wed Jul 08 2015 09:30:00 GMT-0700 (PDT)</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">558834</td>
<td>2012</td>
<td>BMW</td>
<td>X5</td>
<td>xDrive35d</td>
<td>SUV</td>
<td>automatic</td>
<td>5uxzw0c58cl668465</td>
<td>California</td>
<td>48.0</td>
<td>50561.0</td>
<td>black</td>
<td>black</td>
<td>financial services remarketing (lease)</td>
<td>29800.0</td>
<td>34000.0</td>
<td>Wed Jul 08 2015 09:30:00 GMT-0700 (PDT)</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">558835</td>
<td>2015</td>
<td>Nissan</td>
<td>Altima</td>
<td>2.5 S</td>
<td>sedan</td>
<td>automatic</td>
<td>1n4al3ap0fc216050</td>
<td>Georgia</td>
<td>38.0</td>
<td>16658.0</td>
<td>white</td>
<td>black</td>
<td>enterprise vehicle exchange / tra / rental / t...</td>
<td>15100.0</td>
<td>11100.0</td>
<td>Thu Jul 09 2015 06:45:00 GMT-0700 (PDT)</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">558836</td>
<td>2014</td>
<td>Ford</td>
<td>F-150</td>
<td>XLT</td>
<td>SuperCrew</td>
<td>automatic</td>
<td>1ftfw1et2eke87277</td>
<td>California</td>
<td>34.0</td>
<td>15008.0</td>
<td>gray</td>
<td>gray</td>
<td>ford motor credit company llc pd</td>
<td>29600.0</td>
<td>26700.0</td>
<td>Thu May 28 2015 05:30:00 GMT-0700 (PDT)</td>
</tr>
</tbody>
</table>

<p>558837 rows × 16 columns</p>
</div>
</div>
</div>
<section id="date-processing" class="level4">
<h4 class="anchored" data-anchor-id="date-processing">6. Date Processing</h4>
<ul>
<li>Challenge: Original dates contained timezone info (e.g., “GMT-0800 (PST)”)</li>
<li>Solution: Extracts the main datetime portion and converts to proper datetime format.</li>
</ul>
<div id="9fa6a3cc-3f68-49a2-9c39-e9ede4342f73" class="cell" data-execution_count="30">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. Remove timezone part after 'GMT'</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>car_price_df[<span class="st">'sale_date_clean'</span>] <span class="op">=</span> car_price_df[<span class="st">'sale_date'</span>].<span class="bu">str</span>.extract(<span class="vs">r'</span><span class="kw">(</span><span class="dv">.</span><span class="op">*</span><span class="kw">)</span><span class="vs">GMT'</span>)[<span class="dv">0</span>].<span class="bu">str</span>.strip()</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. Convert to datetime safely (invalid ones become NaT)</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>car_price_df[<span class="st">'sale_date_clean'</span>] <span class="op">=</span> pd.to_datetime(</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>    car_price_df[<span class="st">'sale_date_clean'</span>],</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>    errors<span class="op">=</span><span class="st">'coerce'</span>  <span class="co"># Handles "Unknown", empty, etc.</span></span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a><span class="co"># 3. Fill NaT with a default date (e.g., Jan 1, 2000)</span></span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a>car_price_df[<span class="st">'sale_date_clean'</span>] <span class="op">=</span> car_price_df[<span class="st">'sale_date_clean'</span>].fillna(pd.to_datetime(<span class="st">'2000-01-01'</span>))</span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a><span class="co"># 4. Extract only the date part into new column</span></span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a>car_price_df[<span class="st">'sale_day'</span>] <span class="op">=</span> car_price_df[<span class="st">'sale_date_clean'</span>].dt.date</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="b982ce0c-0e3a-453c-808a-19ad99cf2d01" class="cell" data-execution_count="31">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>car_price_df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="31">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">year</th>
<th data-quarto-table-cell-role="th">brand</th>
<th data-quarto-table-cell-role="th">model</th>
<th data-quarto-table-cell-role="th">trim</th>
<th data-quarto-table-cell-role="th">body</th>
<th data-quarto-table-cell-role="th">transmission</th>
<th data-quarto-table-cell-role="th">vehicle_id</th>
<th data-quarto-table-cell-role="th">Region</th>
<th data-quarto-table-cell-role="th">condition</th>
<th data-quarto-table-cell-role="th">odometer</th>
<th data-quarto-table-cell-role="th">exterior_color</th>
<th data-quarto-table-cell-role="th">interior_color</th>
<th data-quarto-table-cell-role="th">seller</th>
<th data-quarto-table-cell-role="th">mmr</th>
<th data-quarto-table-cell-role="th">selling_price</th>
<th data-quarto-table-cell-role="th">sale_date</th>
<th data-quarto-table-cell-role="th">sale_date_clean</th>
<th data-quarto-table-cell-role="th">sale_day</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>2015</td>
<td>Kia</td>
<td>Sorento</td>
<td>LX</td>
<td>SUV</td>
<td>automatic</td>
<td>5xyktca69fg566472</td>
<td>California</td>
<td>5.0</td>
<td>16639.0</td>
<td>white</td>
<td>black</td>
<td>kia motors america inc</td>
<td>20500.0</td>
<td>21500.0</td>
<td>Tue Dec 16 2014 12:30:00 GMT-0800 (PST)</td>
<td>2014-12-16 12:30:00</td>
<td>2014-12-16</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>2015</td>
<td>Kia</td>
<td>Sorento</td>
<td>LX</td>
<td>SUV</td>
<td>automatic</td>
<td>5xyktca69fg561319</td>
<td>California</td>
<td>5.0</td>
<td>9393.0</td>
<td>white</td>
<td>beige</td>
<td>kia motors america inc</td>
<td>20800.0</td>
<td>21500.0</td>
<td>Tue Dec 16 2014 12:30:00 GMT-0800 (PST)</td>
<td>2014-12-16 12:30:00</td>
<td>2014-12-16</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>2014</td>
<td>BMW</td>
<td>3 Series</td>
<td>328i SULEV</td>
<td>Sedan</td>
<td>automatic</td>
<td>wba3c1c51ek116351</td>
<td>California</td>
<td>45.0</td>
<td>1331.0</td>
<td>gray</td>
<td>black</td>
<td>financial services remarketing (lease)</td>
<td>31900.0</td>
<td>30000.0</td>
<td>Thu Jan 15 2015 04:30:00 GMT-0800 (PST)</td>
<td>2015-01-15 04:30:00</td>
<td>2015-01-15</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>2015</td>
<td>Volvo</td>
<td>S60</td>
<td>T5</td>
<td>Sedan</td>
<td>automatic</td>
<td>yv1612tb4f1310987</td>
<td>California</td>
<td>41.0</td>
<td>14282.0</td>
<td>white</td>
<td>black</td>
<td>volvo na rep/world omni</td>
<td>27500.0</td>
<td>27750.0</td>
<td>Thu Jan 29 2015 04:30:00 GMT-0800 (PST)</td>
<td>2015-01-29 04:30:00</td>
<td>2015-01-29</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>2014</td>
<td>BMW</td>
<td>6 Series Gran Coupe</td>
<td>650i</td>
<td>Sedan</td>
<td>automatic</td>
<td>wba6b2c57ed129731</td>
<td>California</td>
<td>43.0</td>
<td>2641.0</td>
<td>gray</td>
<td>black</td>
<td>financial services remarketing (lease)</td>
<td>66000.0</td>
<td>67000.0</td>
<td>Thu Dec 18 2014 12:30:00 GMT-0800 (PST)</td>
<td>2014-12-18 12:30:00</td>
<td>2014-12-18</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">558832</td>
<td>2015</td>
<td>Kia</td>
<td>K900</td>
<td>Luxury</td>
<td>Sedan</td>
<td>Unknown</td>
<td>knalw4d4xf6019304</td>
<td>Indiana</td>
<td>45.0</td>
<td>18255.0</td>
<td>silver</td>
<td>black</td>
<td>avis corporation</td>
<td>35300.0</td>
<td>33000.0</td>
<td>Thu Jul 09 2015 07:00:00 GMT-0700 (PDT)</td>
<td>2015-07-09 07:00:00</td>
<td>2015-07-09</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">558833</td>
<td>2012</td>
<td>Ram</td>
<td>2500</td>
<td>Power Wagon</td>
<td>Crew Cab</td>
<td>automatic</td>
<td>3c6td5et6cg112407</td>
<td>Washington</td>
<td>5.0</td>
<td>54393.0</td>
<td>white</td>
<td>black</td>
<td>i -5 uhlmann rv</td>
<td>30200.0</td>
<td>30800.0</td>
<td>Wed Jul 08 2015 09:30:00 GMT-0700 (PDT)</td>
<td>2015-07-08 09:30:00</td>
<td>2015-07-08</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">558834</td>
<td>2012</td>
<td>BMW</td>
<td>X5</td>
<td>xDrive35d</td>
<td>SUV</td>
<td>automatic</td>
<td>5uxzw0c58cl668465</td>
<td>California</td>
<td>48.0</td>
<td>50561.0</td>
<td>black</td>
<td>black</td>
<td>financial services remarketing (lease)</td>
<td>29800.0</td>
<td>34000.0</td>
<td>Wed Jul 08 2015 09:30:00 GMT-0700 (PDT)</td>
<td>2015-07-08 09:30:00</td>
<td>2015-07-08</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">558835</td>
<td>2015</td>
<td>Nissan</td>
<td>Altima</td>
<td>2.5 S</td>
<td>sedan</td>
<td>automatic</td>
<td>1n4al3ap0fc216050</td>
<td>Georgia</td>
<td>38.0</td>
<td>16658.0</td>
<td>white</td>
<td>black</td>
<td>enterprise vehicle exchange / tra / rental / t...</td>
<td>15100.0</td>
<td>11100.0</td>
<td>Thu Jul 09 2015 06:45:00 GMT-0700 (PDT)</td>
<td>2015-07-09 06:45:00</td>
<td>2015-07-09</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">558836</td>
<td>2014</td>
<td>Ford</td>
<td>F-150</td>
<td>XLT</td>
<td>SuperCrew</td>
<td>automatic</td>
<td>1ftfw1et2eke87277</td>
<td>California</td>
<td>34.0</td>
<td>15008.0</td>
<td>gray</td>
<td>gray</td>
<td>ford motor credit company llc pd</td>
<td>29600.0</td>
<td>26700.0</td>
<td>Thu May 28 2015 05:30:00 GMT-0700 (PDT)</td>
<td>2015-05-28 05:30:00</td>
<td>2015-05-28</td>
</tr>
</tbody>
</table>

<p>558837 rows × 18 columns</p>
</div>
</div>
</div>
<div id="32ff1639-d84a-4eaa-abd6-afcdb504c27c" class="cell" data-execution_count="32">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>car_price_df.drop(columns<span class="op">=</span>[<span class="st">'sale_date'</span>,<span class="st">'sale_date_clean'</span>], inplace<span class="op">=</span> <span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="data-type-conversion" class="level4">
<h4 class="anchored" data-anchor-id="data-type-conversion">7. Data Type Conversion</h4>
<ul>
<li>Purpose: Ensures numeric columns have proper data types for analysis.</li>
<li>Safety: Uses errors=‘coerce’ to convert problematic values to NaN rather than failing.</li>
</ul>
<div id="7cf9bdc6-41bd-4a60-b273-19e9be0dda61" class="cell" data-execution_count="34">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert the specified columns to numeric types</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Using pd.to_numeric with errors='coerce' will convert non-numeric values to NaN</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>car_price_df[<span class="st">'selling_price'</span>] <span class="op">=</span> pd.to_numeric(car_price_df[<span class="st">'selling_price'</span>], errors<span class="op">=</span><span class="st">'coerce'</span>)</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>car_price_df[<span class="st">'mmr'</span>] <span class="op">=</span> pd.to_numeric(car_price_df[<span class="st">'mmr'</span>], errors<span class="op">=</span><span class="st">'coerce'</span>)</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>car_price_df[<span class="st">'odometer'</span>] <span class="op">=</span> pd.to_numeric(car_price_df[<span class="st">'odometer'</span>], errors<span class="op">=</span><span class="st">'coerce'</span>)</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>car_price_df[<span class="st">'condition'</span>] <span class="op">=</span> pd.to_numeric(car_price_df[<span class="st">'condition'</span>], errors<span class="op">=</span><span class="st">'coerce'</span>)</span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a><span class="co"># If you want to convert them to integers (and handle NaN values), you can use:</span></span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a><span class="co"># df['selling_price'] = df['selling_price'].fillna(0).astype(int)</span></span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a><span class="co"># df['mmr'] = df['mmr'].fillna(0).astype(int)</span></span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a><span class="co"># df['odometer'] = df['odometer'].fillna(0).astype(int)</span></span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a><span class="co"># df['condition'] = df['condition'].fillna(0).astype(int)</span></span>
<span id="cb30-13"><a href="#cb30-13" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(car_price_df.dtypes)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>year                int64
brand              object
model              object
trim               object
body               object
transmission       object
vehicle_id         object
Region             object
condition         float64
odometer          float64
exterior_color     object
interior_color     object
seller             object
mmr               float64
selling_price     float64
sale_day           object
dtype: object</code></pre>
</div>
</div>
<div id="8c6f7135-8bc9-48db-9c48-6c1c59c96f21" class="cell" data-execution_count="35">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>car_price_df.info()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 558837 entries, 0 to 558836
Data columns (total 16 columns):
 #   Column          Non-Null Count   Dtype  
---  ------          --------------   -----  
 0   year            558837 non-null  int64  
 1   brand           558837 non-null  object 
 2   model           558837 non-null  object 
 3   trim            558837 non-null  object 
 4   body            558837 non-null  object 
 5   transmission    558837 non-null  object 
 6   vehicle_id      558837 non-null  object 
 7   Region          558837 non-null  object 
 8   condition       547017 non-null  float64
 9   odometer        558743 non-null  float64
 10  exterior_color  558837 non-null  object 
 11  interior_color  558837 non-null  object 
 12  seller          558837 non-null  object 
 13  mmr             558799 non-null  float64
 14  selling_price   558825 non-null  float64
 15  sale_day        558837 non-null  object 
dtypes: float64(4), int64(1), object(11)
memory usage: 68.2+ MB</code></pre>
</div>
</div>
<ol start="8" type="1">
<li>Final Cleaning Steps</li>
</ol>
<ul>
<li>Optimization: Removes redundant columns after processing.</li>
<li>Quality Check: Verifies no duplicate rows exist in the dataset.</li>
</ul>
<div id="b35512b4-2518-4316-9c92-6fa405e6f1ed" class="cell" data-execution_count="37">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>car_price_df.duplicated().<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="37">
<pre><code>0</code></pre>
</div>
</div>
<div id="fddd0ed6-59e0-488a-9926-bb2e5307f16f" class="cell" data-execution_count="38">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>car_price_df[<span class="st">'sale_day'</span>] <span class="op">=</span> pd.to_datetime(car_price_df[<span class="st">'sale_day'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="9" type="1">
<li>Saving Cleaned Data</li>
</ol>
<ul>
<li>Output: Saves the cleaned dataset for future analysis, to data folder by using Join method and path</li>
<li>Format: CSV without index column to maintain compatibility.(to_csv function in help)</li>
</ul>
<div id="c629ba26-1951-41f8-b3ee-81530b690e77" class="cell" data-execution_count="40">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Change the save path to a location you control</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>final_file <span class="op">=</span> os.path.join(<span class="st">'C:/Users/Ashulah/Downloads/car-sales-analysis/data/'</span>,<span class="st">'car_sales_cleaned.csv'</span>)</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Saving the DataFrame</span></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>car_price_df.to_csv(final_file, index<span class="op">=</span><span class="va">False</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="8b7536b7-23c9-4976-a81d-9a41950fd4ed" class="cell" data-execution_count="68">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>car_price_df.describe() </span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="68">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">year</th>
<th data-quarto-table-cell-role="th">condition</th>
<th data-quarto-table-cell-role="th">odometer</th>
<th data-quarto-table-cell-role="th">mmr</th>
<th data-quarto-table-cell-role="th">selling_price</th>
<th data-quarto-table-cell-role="th">sale_day</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">count</td>
<td>558837.000000</td>
<td>547017.000000</td>
<td>558743.000000</td>
<td>558799.000000</td>
<td>558825.000000</td>
<td>558837</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">mean</td>
<td>2010.038927</td>
<td>30.672365</td>
<td>68320.017767</td>
<td>13769.377495</td>
<td>13611.358810</td>
<td>2015-03-05 18:31:26.086999040</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">min</td>
<td>1982.000000</td>
<td>1.000000</td>
<td>1.000000</td>
<td>25.000000</td>
<td>1.000000</td>
<td>2000-01-01 00:00:00</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">25%</td>
<td>2007.000000</td>
<td>23.000000</td>
<td>28371.000000</td>
<td>7100.000000</td>
<td>6900.000000</td>
<td>2015-01-21 00:00:00</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">50%</td>
<td>2012.000000</td>
<td>35.000000</td>
<td>52254.000000</td>
<td>12250.000000</td>
<td>12100.000000</td>
<td>2015-02-13 00:00:00</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">75%</td>
<td>2013.000000</td>
<td>42.000000</td>
<td>99109.000000</td>
<td>18300.000000</td>
<td>18200.000000</td>
<td>2015-05-22 00:00:00</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">max</td>
<td>2015.000000</td>
<td>49.000000</td>
<td>999999.000000</td>
<td>182000.000000</td>
<td>230000.000000</td>
<td>2015-07-21 00:00:00</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">std</td>
<td>3.966864</td>
<td>13.402832</td>
<td>53398.542821</td>
<td>9679.967174</td>
<td>9749.501628</td>
<td>NaN</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
</section>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>